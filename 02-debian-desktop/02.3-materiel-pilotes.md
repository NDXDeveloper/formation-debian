üîù Retour au [Sommaire](/SOMMAIRE.md)

# 2.3 Mat√©riel et pilotes

## 2.3.1 Installation de pilotes propri√©taires (NVIDIA, WiFi)

### Comprendre les pilotes sous Linux

#### Pilotes libres vs propri√©taires

**Pilotes libres (Open Source) :**
- ‚úÖ **Inclus** dans le kernel Linux par d√©faut
- ‚úÖ **S√©curit√©** : Code source ouvert et auditable
- ‚úÖ **Stabilit√©** : Int√©gr√©s et test√©s avec le syst√®me
- ‚úÖ **Maintenance** : Mis √† jour avec le syst√®me
- ‚ùå **Performance** : Parfois limit√©es (graphisme 3D)

**Pilotes propri√©taires (Closed Source) :**
- ‚úÖ **Performance** : Optimisations compl√®tes du fabricant
- ‚úÖ **Fonctionnalit√©s** : Acc√®s √† toutes les capacit√©s mat√©riel
- ‚ùå **S√©curit√©** : Code ferm√©, pas d'audit possible
- ‚ùå **Stabilit√©** : Peuvent causer conflits syst√®me
- ‚ùå **D√©pendance** : Li√©s aux versions sp√©cifiques

#### Identification du mat√©riel

**Commandes de diagnostic essentielles :**
```bash
# Informations g√©n√©rales mat√©riel
sudo lshw -short

# Cartes graphiques
lspci | grep -i vga
lspci | grep -i display

# Cartes r√©seau WiFi
lspci | grep -i network
lspci | grep -i wireless

# P√©riph√©riques USB
lsusb

# Informations CPU d√©taill√©es
lscpu
lshw -class processor
```

**V√©rification pilotes actuels :**
```bash
# Pilotes graphiques charg√©s
lsmod | grep -E "(nvidia|nouveau|radeon|amdgpu|i915)"

# Pilotes r√©seau
lsmod | grep -E "(iwl|rtl|ath|brcm)"
```

### Installation pilotes NVIDIA

#### M√©thode 1 : D√©p√¥ts officiels Debian (Recommand√©e ‚úÖ)

**D√©tection carte NVIDIA :**
```bash
# Identifier mod√®le exact
lspci | grep -i nvidia

# Exemple de sortie :
# 01:00.0 VGA compatible controller: NVIDIA Corporation GeForce GTX 1060
```

**Activation d√©p√¥t non-free :**
```bash
# √âditer sources.list
sudo nano /etc/apt/sources.list

# Ajouter "contrib non-free" √† chaque ligne, exemple :
# deb http://deb.debian.org/debian bookworm main contrib non-free
# deb http://security.debian.org/debian-security bookworm-security main contrib non-free

# Mise √† jour des sources
sudo apt update
```

**Installation pilote NVIDIA :**
```bash
# Recherche versions disponibles
apt search nvidia-driver

# Installation pilote recommand√©
sudo apt install nvidia-driver

# Ou version sp√©cifique si n√©cessaire
sudo apt install nvidia-driver-525  # Exemple version

# Red√©marrage obligatoire
sudo reboot
```

#### M√©thode 2 : Auto-d√©tection

**Outil automatique :**
```bash
# Installation outil d√©tection
sudo apt install nvidia-detect

# Ex√©cution d√©tection
nvidia-detect

# Exemple sortie :
# "Your card is supported by the default nvidia-driver package."
```

#### Configuration NVIDIA

**Outils de configuration :**
```bash
# Interface graphique NVIDIA
sudo apt install nvidia-settings

# Lancement
nvidia-settings
```

**Interface NVIDIA Settings :**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ X Server Display Configuration                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [Monitor 1] [Monitor 2]                            ‚îÇ
‚îÇ                                                     ‚îÇ
‚îÇ Resolution: 1920x1080 @60Hz ‚ñº                      ‚îÇ
‚îÇ Position: [‚óè] Primary Display                       ‚îÇ
‚îÇ Rotation: None ‚ñº                                    ‚îÇ
‚îÇ                                                     ‚îÇ
‚îÇ [Apply] [Save to X Configuration File]             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Configuration courante :**
- **GPU Performance** : Mode performance ou √©conomie
- **Multi-√©crans** : Configuration affichage √©tendu
- **Overclocking** : Ajustement fr√©quences (attention !)
- **Temp√©rature** : Surveillance surchauffe

#### V√©rification installation NVIDIA

**Tests de fonctionnement :**
```bash
# Version pilote install√©
nvidia-smi

# Test OpenGL
glxinfo | grep "OpenGL renderer"
# Doit afficher le nom de votre carte NVIDIA

# Test performance 3D (installation mesa-utils)
sudo apt install mesa-utils
glxgears  # Affiche FPS de rendu 3D
```

#### R√©solution probl√®mes NVIDIA

**Probl√®mes courants :**

**√âcran noir apr√®s installation :**
```bash
# Mode recovery : Ctrl+Alt+F2
# Connexion en mode texte
sudo systemctl set-default multi-user.target
sudo reboot

# D√©sinstallation pilote si probl√®me
sudo apt remove nvidia-driver
sudo apt autoremove

# R√©installation pilotes libres
sudo apt install xserver-xorg-video-nouveau
```

**Conflit nouveau/nvidia :**
```bash
# Blacklister pilote libre conflictuel
echo "blacklist nouveau" | sudo tee -a /etc/modprobe.d/blacklist-nvidia-nouveau.conf
echo "options nouveau modeset=0" | sudo tee -a /etc/modprobe.d/blacklist-nvidia-nouveau.conf

# R√©g√©n√©rer initramfs
sudo update-initramfs -u
sudo reboot
```

### Installation pilotes WiFi

#### Identification carte WiFi

**D√©tection mat√©riel :**
```bash
# Carte WiFi install√©e
lspci | grep -i wireless
lspci | grep -i network

# Interface r√©seau d√©tect√©e
ip link show
iwconfig  # Si wireless-tools install√©

# Statut interface
rfkill list  # V√©rifier si WiFi bloqu√©
```

#### Pilotes WiFi courants

**Principales marques et pilotes :**

| Fabricant | S√©rie | Paquet firmware | Statut |
|-----------|-------|-----------------|--------|
| **Intel** | iwlwifi | firmware-iwlwifi | ‚úÖ Excellent |
| **Realtek** | RTL8xxx | firmware-realtek | ‚úÖ Tr√®s bon |
| **Atheros** | ath9k/ath10k | firmware-atheros | ‚úÖ Bon |
| **Broadcom** | brcm | firmware-brcm80211 | ‚ö†Ô∏è Variable |
| **Ralink** | rt2x00 | firmware-ralink | ‚úÖ Correct |

#### Installation firmware WiFi

**M√©thode g√©n√©rale :**
```bash
# Activation d√©p√¥ts non-free (si pas fait)
sudo nano /etc/apt/sources.list
# Ajouter "non-free" √† chaque ligne

sudo apt update

# Installation firmware complet
sudo apt install firmware-linux-nonfree

# Ou firmware sp√©cifique
sudo apt install firmware-iwlwifi      # Intel
sudo apt install firmware-realtek      # Realtek
sudo apt install firmware-atheros      # Atheros
sudo apt install firmware-brcm80211    # Broadcom
```

**Red√©marrage services :**
```bash
# Red√©marrer gestionnaire r√©seau
sudo systemctl restart NetworkManager

# Ou recharger module WiFi
sudo modprobe -r iwlwifi  # Exemple Intel
sudo modprobe iwlwifi

# V√©rification d√©tection
dmesg | grep -i firmware
dmesg | grep -i wireless
```

#### Configuration NetworkManager

**Interface graphique :**
- **GNOME** : Param√®tres ‚Üí WiFi
- **KDE** : System Settings ‚Üí Network ‚Üí WiFi
- **Ic√¥ne r√©seau** : Clic sur ic√¥ne barre syst√®me

**Ligne de commande :**
```bash
# Scanner r√©seaux disponibles
sudo iwlist scan | grep ESSID

# Via NetworkManager
nmcli device wifi list

# Connexion r√©seau
nmcli device wifi connect "NomR√©seau" password "MotDePasse"

# Statut connexion
nmcli connection show
```

#### Cas sp√©ciaux WiFi

**Cartes USB WiFi :**
```bash
# D√©tection p√©riph√©rique USB
lsusb | grep -i wireless

# Certaines n√©cessitent compilation pilote
# V√©rifier documentation fabricant
```

**WiFi 6 et r√©cent :**
- **Kernel r√©cent** : Parfois n√©cessite kernel backport
- **Firmware beta** : Peut n√©cessiter versions non-officielles
- **Compatibilit√©** : V√©rifier support Linux avant achat

### Autres pilotes propri√©taires courants

#### Pilotes AMD/ATI

**Pilotes libres (recommand√©s) :**
```bash
# G√©n√©ralement pr√©-install√©s
sudo apt install xserver-xorg-video-amdgpu  # Cartes r√©centes
sudo apt install xserver-xorg-video-radeon  # Cartes anciennes

# Firmware
sudo apt install firmware-amd-graphics
```

**Pilotes propri√©taires AMD :**
- **AMDGPU-PRO** : T√©l√©chargement site AMD
- **Usage** : Calcul professionnel, OpenCL
- **Desktop** : Pilotes libres suffisants g√©n√©ralement

#### Pilotes Audio

**G√©n√©ralement automatiques :**
```bash
# V√©rification audio d√©tect√©
aplay -l
lspci | grep -i audio

# Firmware audio (rare)
sudo apt install firmware-sof-signed  # Sound Open Firmware
```

#### P√©riph√©riques sp√©cialis√©s

**Imprimantes :**
```bash
# Pilotes g√©n√©riques
sudo apt install cups-driver-gutenprint

# HP sp√©cifique
sudo apt install hplip

# Canon/Epson : T√©l√©chargement site fabricant
```

**Tablettes graphiques Wacom :**
```bash
# Support natif excellent
sudo apt install xserver-xorg-input-wacom

# Configuration
sudo apt install kde-config-tablet  # KDE
# Ou GNOME Settings ‚Üí Wacom Tablet
```

## 2.3.2 Gestion de l'alimentation et suspend/hibernate

### Comprendre la gestion d'alimentation

#### Modes d'alimentation Linux

**√âtats ACPI (Advanced Configuration and Power Interface) :**

| √âtat | Nom | Description | Consommation | R√©veil |
|------|-----|-------------|--------------|--------|
| **S0** | Working | Fonctionnement normal | 100% | Imm√©diat |
| **S1** | Sleep | CPU arr√™t√©, RAM aliment√©e | ~80% | Rapide |
| **S3** | Suspend | RAM seule aliment√©e | ~5% | 1-3 sec |
| **S4** | Hibernate | Sauvegarde sur disque | 0% | 10-30 sec |
| **S5** | Shutdown | Arr√™t complet | 0% | Boot complet |

#### SystemD et gestion alimentation

**Services SystemD impliqu√©s :**
- **systemd-logind** : Gestion sessions utilisateur
- **systemd-sleep** : Gestion suspend/hibernate
- **power-profiles-daemon** : Profils d'alimentation
- **TLP** : Optimisation batterie laptops (optionnel)

### Configuration Suspend (Mise en veille)

#### Activation et test

**V√©rification support suspend :**
```bash
# Test si suspend support√©
sudo systemctl suspend

# R√©veil : Appuyer sur bouton power ou clavier
```

**Configuration automatique :**
```bash
# √âditer configuration logind
sudo nano /etc/systemd/logind.conf

# Param√®tres importants :
HandlePowerKey=suspend          # Bouton power = suspend
HandleLidSwitch=suspend         # Fermeture laptop = suspend
HandleLidSwitchDocked=ignore    # Pas de suspend si dock
IdleAction=suspend              # Action si inactivit√©
IdleActionSec=20min             # D√©lai inactivit√©
```

**Red√©marrage service :**
```bash
sudo systemctl restart systemd-logind
```

#### Configuration graphique

**GNOME Settings :**
1. **Param√®tres** ‚Üí Alimentation
2. **Options disponibles** :
   - **√âcran** : Extinction automatique (1-15 min)
   - **Suspension automatique** : Sur secteur/batterie
   - **Bouton d'alimentation** : Action personnalis√©e
   - **√âconomiseur d'√©cran** : Activation/d√©lai

**KDE Power Management :**
1. **System Settings** ‚Üí Power Management
2. **Profils disponibles** :
   - **AC Power** : Sur secteur
   - **Battery** : Sur batterie
   - **Low Battery** : Batterie faible

#### R√©solution probl√®mes suspend

**Suspend ne fonctionne pas :**
```bash
# V√©rifier logs d'erreur
journalctl -u systemd-suspend
dmesg | grep -i suspend

# Test manuel des √©tapes
echo mem | sudo tee /sys/power/state
```

**R√©veil impossible :**
```bash
# V√©rifier p√©riph√©riques wake-up
cat /proc/acpi/wakeup

# Activer r√©veil USB (exemple)
echo enabled | sudo tee /sys/bus/usb/devices/usb1/power/wakeup

# R√©veil r√©seau (Wake-on-LAN)
sudo ethtool -s eth0 wol g  # Activer WOL
```

**Suspend al√©atoire :**
```bash
# D√©sactiver r√©veil p√©riph√©riques probl√©matiques
echo disabled | sudo tee /sys/bus/usb/devices/*/power/wakeup

# V√©rifier processus bloquant suspend
sudo systemd-inhibit --list
```

### Configuration Hibernate (Hibernation)

#### Pr√©requis hibernation

**Espace swap n√©cessaire :**
- **Taille swap ‚â• RAM** pour hibernation compl√®te
- **Partition swap** ou fichier swap suffisant

**V√©rification swap actuel :**
```bash
# Taille swap disponible
free -h
swapon --show

# Fichiers/partitions swap
cat /proc/swaps
```

#### Cr√©ation/agrandissement swap

**Si swap insuffisant :**

**M√©thode 1 : Fichier swap**
```bash
# Cr√©er fichier swap 8GB (ajuster selon RAM)
sudo fallocate -l 8G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile

# Rendre permanent
echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab
```

**M√©thode 2 : Partition swap (avanc√©)**
- Utiliser **GParted** ou **fdisk**
- Redimensionner partitions existantes
- Cr√©er nouvelle partition swap

#### Activation hibernation

**Configuration GRUB :**
```bash
# Identifier UUID partition/fichier swap
sudo blkid | grep swap
# Ou pour fichier swap :
sudo findmnt -no UUID -T /swapfile

# √âditer GRUB
sudo nano /etc/default/grub

# Ajouter param√®tre kernel :
GRUB_CMDLINE_LINUX_DEFAULT="quiet splash resume=UUID=your-swap-uuid"

# Mettre √† jour GRUB
sudo update-grub
```

**Configuration initramfs :**
```bash
# √âditer modules initramfs
sudo nano /etc/initramfs-tools/conf.d/resume

# Ajouter ligne :
RESUME=UUID=your-swap-uuid

# R√©g√©n√©rer initramfs
sudo update-initramfs -u -k all
```

**Test hibernation :**
```bash
# Test hibernation
sudo systemctl hibernate

# V√©rification apr√®s r√©veil
journalctl -u systemd-hibernate
```

#### Configuration hibernation automatique

**Hibernation sur batterie faible :**
```bash
# Configuration UPower
sudo nano /etc/UPower/UPower.conf

# Param√®tres batterie critique :
CriticalPowerAction=Hibernate
```

### Optimisation batterie laptops

#### Installation TLP

**TLP = Advanced Power Management :**
```bash
# Installation TLP
sudo apt install tlp tlp-rdw

# Activation service
sudo systemctl enable tlp
sudo systemctl start tlp

# Configuration automatique
sudo tlp start
```

#### Configuration TLP

**Fichier configuration principal :**
```bash
sudo nano /etc/tlp.conf
```

**Param√®tres importants :**
```bash
# Gouverneur CPU sur batterie/secteur
CPU_SCALING_GOVERNOR_ON_AC=performance
CPU_SCALING_GOVERNOR_ON_BAT=powersave

# Fr√©quences CPU
CPU_MIN_PERF_ON_AC=0
CPU_MAX_PERF_ON_AC=100
CPU_MIN_PERF_ON_BAT=0
CPU_MAX_PERF_ON_BAT=50

# Disques durs
DISK_APM_LEVEL_ON_AC="254 254"
DISK_APM_LEVEL_ON_BAT="128 128"

# WiFi √©conomie √©nergie
WIFI_PWR_ON_AC=off
WIFI_PWR_ON_BAT=on
```

**Application configuration :**
```bash
sudo tlp start
sudo tlp-stat  # V√©rifier statut
```

#### Monitoring consommation

**Outils de surveillance :**
```bash
# Installation PowerTOP
sudo apt install powertop

# Analyse consommation
sudo powertop

# G√©n√©ration rapport HTML
sudo powertop --html=powertop-report.html
```

**Informations batterie :**
```bash
# √âtat batterie
upower -i $(upower -e | grep 'BAT')

# Historique consommation
upower -i /org/freedesktop/UPower/devices/battery_BAT0
```

### Profils d'alimentation

#### Power Profiles (GNOME moderne)

**Installation :**
```bash
sudo apt install power-profiles-daemon
```

**Profils disponibles :**
- **Performance** : Performances maximales
- **Balanced** : √âquilibre performance/autonomie
- **Power Saver** : Autonomie maximale

**Contr√¥le profils :**
```bash
# Lister profils
powerprofilesctl list

# Changer profil
powerprofilesctl set power-saver
```

#### Configuration manuelle gouverneurs CPU

**Gouverneurs disponibles :**
```bash
# Voir gouverneurs support√©s
cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors

# Gouverneur actuel
cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
```

**Changement manuel :**
```bash
# Performance maximale
echo performance | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor

# √âconomie d'√©nergie
echo powersave | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor

# Automatique (recommand√©)
echo ondemand | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor
```

## 2.3.3 Configuration multi-√©crans

### Comprendre l'affichage multi-√©crans

#### Technologies d'affichage

**Connexions courantes :**
- **HDMI** : Standard moderne, audio + vid√©o
- **DisplayPort** : Haute r√©solution, daisy-chain possible
- **USB-C/Thunderbolt** : Moderne, haute bande passante
- **VGA** : Analogique, qualit√© limit√©e (obsol√®te)
- **DVI** : Num√©rique sans audio (ancien)

**Modes d'affichage :**
- **Mirror/Clone** : M√™me contenu sur tous √©crans
- **Extended** : Bureau √©tendu sur plusieurs √©crans
- **Primary only** : Un seul √©cran actif
- **Secondary only** : √âcran principal d√©sactiv√©

#### D√©tection √©crans

**Commandes de diagnostic :**
```bash
# √âcrans d√©tect√©s
xrandr --listmonitors
xrandr --query

# Exemple sortie :
# Screen 0: minimum 320 x 200, current 3840 x 1080
# HDMI-1 connected 1920x1080+1920+0 (normal left inverted right)
# eDP-1 connected primary 1920x1080+0+0 (normal left inverted right)
```

### Configuration graphique multi-√©crans

#### GNOME Settings

**Acc√®s configuration :**
1. **Param√®tres** ‚Üí √âcrans
2. **Interface visuelle** : Disposition √©crans drag & drop
3. **Options par √©cran** :
   - R√©solution et fr√©quence
   - Orientation (portrait/paysage)
   - √âcran principal
   - Activation/d√©sactivation

**Interface GNOME Displays :**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   [Monitor 1]     [Monitor 2]           ‚îÇ
‚îÇ   1920x1080       1920x1080             ‚îÇ
‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îÇ
‚îÇ   ‚îÇ    1    ‚îÇ     ‚îÇ    2    ‚îÇ           ‚îÇ
‚îÇ   ‚îÇ         ‚îÇ     ‚îÇ         ‚îÇ           ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ Resolution: 1920x1080 ‚ñº                 ‚îÇ
‚îÇ Refresh Rate: 60 Hz ‚ñº                   ‚îÇ
‚îÇ ‚òê Primary Display                       ‚îÇ
‚îÇ Scale: 100% ‚ñº                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### KDE Display Configuration

**System Settings ‚Üí Display and Monitor :**
- **Visual layout** : Arrangement par glisser-d√©poser
- **Advanced options** :
  - Gamma correction
  - Color profiles
  - Replica settings
  - Global scaling

#### R√©solutions et fr√©quences

**R√©solutions courantes :**
| Format | R√©solution | Ratio | Usage |
|--------|------------|-------|-------|
| **Full HD** | 1920x1080 | 16:9 | Standard |
| **QHD** | 2560x1440 | 16:9 | Gaming/Pro |
| **4K UHD** | 3840x2160 | 16:9 | Haute d√©finition |
| **Ultrawide** | 3440x1440 | 21:9 | Productivit√© |
| **4K** | 4096x2160 | ~17:9 | Professionnel |

**Fr√©quences d'affichage :**
- **60 Hz** : Standard, fluide
- **75 Hz** : L√©g√®rement plus fluide
- **120/144 Hz** : Gaming comp√©titif
- **165/240 Hz** : Gaming haute performance

### Configuration ligne de commande (xrandr)

#### Commandes xrandr essentielles

**√âtat actuel :**
```bash
# Informations compl√®tes
xrandr --verbose

# Format simple
xrandr --current
```

**Configuration de base :**
```bash
# Activer second √©cran √† droite
xrandr --output HDMI-1 --auto --right-of eDP-1

# √âcran au-dessus
xrandr --output HDMI-1 --auto --above eDP-1

# R√©solution sp√©cifique
xrandr --output HDMI-1 --mode 1920x1080 --rate 60

# D√©sactiver √©cran
xrandr --output HDMI-1 --off
```

**Exemples configurations courantes :**
```bash
# Configuration laptop + moniteur externe
xrandr --output eDP-1 --primary --mode 1920x1080 --rate 60 \
       --output HDMI-1 --mode 1920x1080 --rate 60 --right-of eDP-1

# Triple √©crans (si support√©)
xrandr --output eDP-1 --primary --mode 1920x1080 --rate 60 \
       --output HDMI-1 --mode 1920x1080 --rate 60 --right-of eDP-1 \
       --output DP-1 --mode 1920x1080 --rate 60 --left-of eDP-1

# Mode mirroir
xrandr --output HDMI-1 --same-as eDP-1
```

#### Scripts automatisation

**Script configuration automatique :**
```bash
#!/bin/bash
# ~/.local/bin/setup-displays.sh

# V√©rifier si √©cran externe connect√©
if xrandr | grep "HDMI-1 connected"; then
    # Configuration dual screen
    xrandr --output eDP-1 --primary --mode 1920x1080 --rate 60 \
           --output HDMI-1 --mode 1920x1080 --rate 60 --right-of eDP-1
    echo "Dual screen configured"
else
    # Configuration single screen
    xrandr --output eDP-1 --primary --mode 1920x1080 --rate 60
    echo "Single screen configured"
fi
```

**Rendre ex√©cutable et utiliser :**
```bash
chmod +x ~/.local/bin/setup-displays.sh
~/.local/bin/setup-displays.sh
```

### Gestion haute r√©solution et scaling

#### Probl√®me HiDPI/4K

**Sympt√¥mes texte trop petit :**
- Texte illisible sur √©crans 4K
- Interface disproportionn√©e
- Fatigue oculaire

#### Configuration scaling GNOME

**Param√®tres ‚Üí √âcrans :**
- **Scale** : 100%, 125%, 150%, 200%
- **Fractional scaling** : Options interm√©diaires

**Activation scaling fractionnel :**
```bash
# Activer scaling fractionnel
gsettings set org.gnome.mutter experimental-features "['scale-monitor-framebuffer']"

# Red√©marrer session pour appliquer
```

#### Configuration scaling KDE

**System Settings ‚Üí Display :**
- **Global Scale** : 100% √† 300%
- **Per-monitor scaling** : Diff√©rent par √©cran

#### Scaling applications individuelles

**Applications qui ne respectent pas scaling :**
```bash
# Forcer scaling pour application sp√©cifique
QT_SCALE_FACTOR=1.5 application-qt

# Variables d'environnement globales
export GDK_SCALE=1.5        # Applications GTK
export QT_SCALE_FACTOR=1.5  # Applications Qt
```

### Profils d'affichage et automatisation

#### Autorandr - Gestion profils

**Installation :**
```bash
sudo apt install autorandr
```

**Cr√©ation profils :**
```bash
# Configurer √©crans manuellement puis sauver profil
autorandr --save bureau

# Profil laptop seul
autorandr --save mobile

# Changer profil
autorandr --load bureau
```

**D√©tection automatique :**
```bash
# Activer d√©tection automatique
autorandr --change

# Service automatique
systemctl --user enable autorandr.service
```

#### Configuration d√©marrage session

**GNOME autostart :**
```bash
# Cr√©er fichier autostart
mkdir -p ~/.config/autostart

cat > ~/.config/autostart/display-setup.desktop << EOF
[Desktop Entry]
Type=Application
Name=Display Setup
Exec=/home/$USER/.local/bin/setup-displays.sh
Hidden=false
NoDisplay=false
X-GNOME-Autostart-enabled=true
EOF
```

## 2.3.4 Bluetooth et p√©riph√©riques

### Configuration Bluetooth

#### Installation et activation

**V√©rification support Bluetooth :**
```bash
# Mat√©riel Bluetooth d√©tect√©
lsusb | grep -i bluetooth
lspci | grep -i bluetooth
hciconfig  # Si bluetoothctl install√©

# Statut service
systemctl status bluetooth
```

**Installation stack Bluetooth :**
```bash
# Paquets essentiels
sudo apt install bluetooth bluez bluez-tools

# Interface graphique
sudo apt install blueman  # Gestionnaire universel
# Ou int√©gr√© DE :
sudo apt install gnome-bluetooth  # GNOME
sudo apt install bluedevil        # KDE
```

**Activation service :**
```bash
# D√©marrer et activer service
sudo systemctl enable bluetooth
sudo systemctl start bluetooth

# V√©rifier fonctionnement
sudo systemctl status bluetooth
```

#### Interface en ligne de commande

**bluetoothctl - Outil principal :**
```bash
# Lancer interface interactive
bluetoothctl

# Commandes dans bluetoothctl :
power on              # Activer adaptateur
agent on              # Activer agent d'appairage
default-agent         # Agent par d√©faut
discoverable on       # Rendre visible
scan on               # Scanner p√©riph√©riques
pair XX:XX:XX:XX:XX:XX  # Appairer p√©riph√©rique
connect XX:XX:XX:XX:XX:XX  # Connecter
trust XX:XX:XX:XX:XX:XX    # Faire confiance
disconnect XX:XX:XX:XX:XX:XX  # D√©connecter
remove XX:XX:XX:XX:XX:XX     # Supprimer appairage
quit                  # Quitter
```

#### Configuration graphique

**Blueman Manager :**
- **Interface universelle** compatible tous DE
- **Fonctionnalit√©s** : Appairage, transfert fichiers, audio
- **Acc√®s** : Menu Applications ‚Üí Bluetooth Manager

**GNOME Settings :**
- **Param√®tres** ‚Üí Bluetooth
- **Interface simplifi√©e** : On/Off, liste p√©riph√©riques
- **Appairage automatique** : Clic sur p√©riph√©rique d√©tect√©

**KDE Bluetooth :**
- **System Settings** ‚Üí Bluetooth
- **Widget plasma** : Contr√¥le depuis barre t√¢ches
- **Int√©gration compl√®te** : Notifications, transferts

### Appairage p√©riph√©riques courants

#### Casques et enceintes Bluetooth

**Processus d'appairage audio :**
1. **Mettre p√©riph√©rique** en mode appairage
2. **Scanner** avec bluetoothctl ou interface graphique
3. **S√©lectionner** p√©riph√©rique dans liste
4. **Confirmer** appairage (code PIN si demand√©)
5. **Configurer** comme p√©riph√©rique audio

**Configuration audio Bluetooth :**
```bash
# V√©rifier p√©riph√©rique audio d√©tect√©
pactl list cards | grep -i bluetooth

# Profils audio disponibles
pactl list cards | grep -A 20 "bluez"
```

**Basculement audio :**
- **pavucontrol** : Onglet "Configuration" ‚Üí S√©lectionner profil
- **GNOME** : Param√®tres ‚Üí Son ‚Üí Sortie
- **KDE** : Volume ‚Üí Configuration p√©riph√©rique

#### Souris et claviers Bluetooth

**Appairage p√©riph√©riques de saisie :**
```bash
# Mode appairage clavier/souris
bluetoothctl
power on
agent on
scan on

# Attendre d√©tection p√©riph√©rique
# Exemple : [NEW] Device AA:BB:CC:DD:EE:FF Logitech MX Master 3

pair AA:BB:CC:DD:EE:FF
connect AA:BB:CC:DD:EE:FF
trust AA:BB:CC:DD:EE:FF
```

**Configuration souris avanc√©e :**
```bash
# Installation outils configuration
sudo apt install xinput

# Lister p√©riph√©riques d'entr√©e
xinput list

# Configuration souris (vitesse, acc√©l√©ration)
xinput --set-prop "nom-souris" "libinput Accel Speed" 0.5
```

**Claviers avec disposition sp√©ciale :**
```bash
# Configurer layout clavier Bluetooth
setxkbmap fr  # Fran√ßais
setxkbmap us  # Am√©ricain

# Permanent via interface graphique
# GNOME : Param√®tres ‚Üí Clavier
# KDE : System Settings ‚Üí Input Devices ‚Üí Keyboard
```

#### Smartphones et tablettes

**Appairage pour transfert fichiers :**
1. **Activer Bluetooth** sur smartphone
2. **Rendre visible** depuis param√®tres t√©l√©phone
3. **Scanner et appairer** depuis Linux
4. **Accepter** demande d'appairage sur t√©l√©phone

**Transfert de fichiers :**
```bash
# Via Blueman (interface graphique)
# Clic droit sur p√©riph√©rique ‚Üí Send Files

# Via ligne de commande
bluetooth-sendto --device=AA:BB:CC:DD:EE:FF fichier.pdf
```

**Partage Internet (tethering) :**
```bash
# Configuration r√©seau Bluetooth
nmcli connection add type bluetooth con-name "Phone Internet" bt-type panu
nmcli connection up "Phone Internet"
```

### R√©solution probl√®mes Bluetooth

#### Probl√®mes d'appairage

**P√©riph√©rique non d√©tect√© :**
```bash
# Red√©marrer service Bluetooth
sudo systemctl restart bluetooth

# V√©rifier adaptateur actif
rfkill list bluetooth
# Si bloqu√© : rfkill unblock bluetooth

# Reset adaptateur
sudo hciconfig hci0 down
sudo hciconfig hci0 up
```

**Appairage √©choue :**
```bash
# Supprimer anciens appairages
bluetoothctl
remove AA:BB:CC:DD:EE:FF

# Nettoyer cache Bluetooth
sudo systemctl stop bluetooth
sudo rm -rf /var/lib/bluetooth/*
sudo systemctl start bluetooth
```

**Audio Bluetooth de mauvaise qualit√© :**
```bash
# Forcer codec haute qualit√©
sudo nano /etc/bluetooth/main.conf

# Ajouter/modifier :
[General]
Disable=Headset  # D√©sactive profil HSP/HFP
Enable=Media     # Active profil A2DP

# Red√©marrer service
sudo systemctl restart bluetooth
```

#### Probl√®mes de connectivit√©

**D√©connexions fr√©quentes :**
```bash
# Augmenter timeout connexion
sudo nano /etc/bluetooth/main.conf

# Modifier :
[General]
ConnectionLatency=0
FastConnectable=true
```

**P√©riph√©rique connect√© mais non fonctionnel :**
```bash
# V√©rifier services disponibles
sdptool browse AA:BB:CC:DD:EE:FF

# Reconnecter profil sp√©cifique
bluetoothctl
connect AA:BB:CC:DD:EE:FF
```

### P√©riph√©riques USB et drivers

#### Identification p√©riph√©riques USB

**Commandes de diagnostic :**
```bash
# Liste tous p√©riph√©riques USB
lsusb

# D√©tails p√©riph√©rique sp√©cifique
lsusb -v -d 1234:5678  # ID vendeur:produit

# Monitoring connexions USB temps r√©el
sudo dmesg -w
# Connecter/d√©connecter p√©riph√©rique pour voir messages
```

#### P√©riph√©riques de stockage USB

**Montage automatique :**
- **GNOME/KDE** : Montage automatique en `/media/`
- **Notification** : Appara√Æt dans gestionnaire de fichiers
- **D√©montage s√ªr** : Clic droit ‚Üí "√âjecter" avant d√©connexion

**Montage manuel :**
```bash
# Identifier p√©riph√©rique
sudo fdisk -l

# Cr√©er point de montage
sudo mkdir /mnt/usb

# Monter p√©riph√©rique
sudo mount /dev/sdb1 /mnt/usb

# D√©monter proprement
sudo umount /mnt/usb
```

**Formatage cl√© USB :**
```bash
# ATTENTION : Efface toutes donn√©es !

# Format FAT32 (compatible Windows/Mac)
sudo mkfs.vfat -F 32 /dev/sdb1

# Format ext4 (Linux uniquement)
sudo mkfs.ext4 /dev/sdb1

# Via interface graphique
sudo apt install gparted
gparted  # Interface compl√®te partitionnement
```

#### Webcams et cam√©ras

**Test webcam :**
```bash
# Lister p√©riph√©riques vid√©o
ls /dev/video*

# Test avec Cheese (GNOME)
sudo apt install cheese
cheese

# Test ligne de commande
sudo apt install guvcview
guvcview
```

**Applications webcam :**
- **Cheese** : Simple, effet photo amusants
- **Guvcview** : Contr√¥les avanc√©s, enregistrement
- **OBS Studio** : Streaming, enregistrement professionnel
- **VLC** : Lecture flux cam√©ra

#### Imprimantes

**Installation CUPS (syst√®me d'impression) :**
```bash
# Installation serveur impression
sudo apt install cups cups-client

# Interface web CUPS
sudo systemctl start cups
# Acc√®s : http://localhost:631
```

**Ajout imprimante graphique :**
- **GNOME** : Param√®tres ‚Üí Imprimantes ‚Üí Ajouter
- **KDE** : System Settings ‚Üí Printers
- **Auto-d√©tection** : La plupart imprimantes d√©tect√©es automatiquement

**Pilotes imprimantes courants :**
```bash
# HP (excellent support Linux)
sudo apt install hplip
hp-setup  # Assistant configuration HP

# Canon
sudo apt install cups-driver-canon

# Epson
sudo apt install cups-driver-escpr

# Brother
# T√©l√©chargement pilotes depuis site Brother
```

**Impression r√©seau :**
```bash
# Imprimante partag√©e Windows
sudo apt install samba-client

# Ajout imprimante SMB/CIFS
# Via interface : smb://ip-imprimante/nom-partage
```

#### P√©riph√©riques audio USB

**Interfaces audio USB :**
```bash
# V√©rifier d√©tection interface
aplay -l
arecord -l

# Configuration PulseAudio
pavucontrol
# Onglet "Configuration" ‚Üí S√©lectionner profil interface
```

**Microphones USB :**
```bash
# Test enregistrement micro USB
arecord -D plughw:1,0 -f cd test.wav
# Ctrl+C pour arr√™ter
aplay test.wav  # √âcouter enregistrement
```

### P√©riph√©riques gaming

#### Manettes de jeu

**Support natif Linux :**
- **Xbox 360/One** : Support excellent, plug & play
- **PlayStation 3/4/5** : Support natif r√©cent
- **Nintendo Switch Pro** : Support via xpadneo
- **Manettes g√©n√©riques** : Variables selon fabricant

**Installation pilotes manettes :**
```bash
# Xbox (g√©n√©ralement pr√©-install√©)
sudo apt install xboxdrv

# PlayStation via DS4/DS5
sudo apt install ds4drv

# Test manette
sudo apt install jstest-gtk
jstest-gtk  # Interface test boutons/joysticks
```

**Steam et gaming :**
```bash
# Installation Steam
sudo apt install steam

# Steam Input : Support √©tendu manettes dans Steam
# Param√®tres Steam ‚Üí Contr√¥leur ‚Üí Param√®tres g√©n√©raux
```

#### Volants et p√©riph√©riques sp√©cialis√©s

**Support Linux gaming :**
- **Logitech** : Bon support (G25, G27, G29, G920)
- **Thrustmaster** : Support variable
- **Fanatec** : Support communautaire

**Configuration volant :**
```bash
# V√©rifier d√©tection
lsusb | grep -i logitech

# Test fonctionnement
jstest /dev/input/js0

# Force Feedback (si support√©)
sudo apt install ffmpeg-tools
```

### P√©riph√©riques r√©seau

#### Adaptateurs WiFi USB

**Identification et installation :**
```bash
# Identifier chipset WiFi USB
lsusb | grep -i wireless
dmesg | grep -i firmware

# Installation firmware selon chipset
sudo apt install firmware-realtek     # Realtek
sudo apt install firmware-atheros     # Atheros
sudo apt install firmware-ralink      # Ralink
```

**Adaptateurs USB WiFi recommand√©s :**
- **Chipsets support√©s** : Atheros AR9271, Realtek RTL8188
- **√âviter** : Broadcom, certains Realtek r√©cents
- **V√©rifier** compatibility Linux avant achat

#### Adaptateurs Ethernet USB

**Support g√©n√©ralement excellent :**
```bash
# V√©rifier d√©tection
ip link show

# Configuration r√©seau
nmcli device status
nmcli connection show
```

### R√©solution probl√®mes g√©n√©raux p√©riph√©riques

#### Permissions et groupes utilisateur

**Ajout aux groupes n√©cessaires :**
```bash
# Groupes importants pour p√©riph√©riques
sudo usermod -a -G dialout $USER     # P√©riph√©riques s√©rie
sudo usermod -a -G plugdev $USER     # P√©riph√©riques amovibles
sudo usermod -a -G audio $USER       # P√©riph√©riques audio
sudo usermod -a -G video $USER       # Cam√©ras, capture vid√©o
sudo usermod -a -G cdrom $USER       # Lecteurs CD/DVD
sudo usermod -a -G bluetooth $USER   # Bluetooth

# Red√©marrage session n√©cessaire
```

#### R√®gles udev personnalis√©es

**Cr√©ation r√®gles udev pour p√©riph√©riques sp√©ciaux :**
```bash
# Identifier p√©riph√©rique
lsusb  # Noter ID vendeur:produit

# Cr√©er r√®gle udev
sudo nano /etc/udev/rules.d/99-custom-device.rules

# Exemple r√®gle :
SUBSYSTEM=="usb", ATTR{idVendor}=="1234", ATTR{idProduct}=="5678", MODE="0666", GROUP="plugdev"

# Recharger r√®gles
sudo udevadm control --reload-rules
sudo udevadm trigger
```

#### Logs et diagnostic

**V√©rification logs syst√®me :**
```bash
# Logs p√©riph√©riques USB
dmesg | grep -i usb
journalctl -f  # Temps r√©el

# Logs Bluetooth
journalctl -u bluetooth
dmesg | grep -i bluetooth

# Logs audio
journalctl --user -u pulseaudio
```

**Outils diagnostic avanc√©s :**
```bash
# Informations mat√©riel compl√®tes
sudo lshw -html > hardware-report.html

# Test p√©riph√©riques syst√®me
sudo apt install hardinfo
hardinfo  # Interface graphique diagnostic

# Benchmark et test
sudo apt install phoronix-test-suite
```

Cette configuration compl√®te du mat√©riel et des pilotes vous permet maintenant de profiter pleinement de tous vos p√©riph√©riques sur Debian, avec une gestion optimale de l'alimentation et des affichages multiples.

‚è≠Ô∏è

🔝 Retour au [Sommaire](/SOMMAIRE.md)

# 2.2 Gestion des applications desktop

*Guide débutant - Durée estimée : 2h30*

---

## 🎯 Objectifs de cette section

À la fin de cette section, vous saurez :
- Utiliser les différents centres d'applications et logithèques
- Installer des logiciels via plusieurs méthodes (APT, Flatpak, Snap, .deb)
- Configurer les associations de fichiers et types MIME
- Configurer le support multimédia complet (audio, vidéo, codecs)
- Créer un environnement utilisateur productif et personnalisé

---

## 🏪 Qu'est-ce qu'une logithèque ?

### Analogie simple

Une **logithèque** (ou centre d'applications) est comme un **app store** sur smartphone :
- **Catalogue organisé** : Applications classées par catégories
- **Installation simple** : Un clic pour installer
- **Mises à jour automatiques** : Logiciels toujours à jour
- **Descriptions et notes** : Informations pour choisir
- **Sécurité** : Applications vérifiées et sûres

### Différence avec l'installation traditionnelle

| Méthode | Avantages | Inconvénients |
|---------|-----------|---------------|
| **Logithèque** | Interface graphique, simple, sécurisé | Choix parfois limité |
| **Ligne de commande** | Contrôle total, scripts automatisés | Plus technique |
| **Fichiers .deb** | Accès aux dernières versions | Gestion dépendances manuelle |
| **Flatpak/Snap** | Applications universelles | Plus lourd, isolation |

---

## 2.2.1 Logithèque et centres d'applications

### 🛒 GNOME Software (Centre de logiciels)

#### Interface et navigation

**Accès** : Activities → "Logiciels" ou "Software"

```
┌─────────────────────────────────────┐
│ 🔍 Rechercher applications...       │
├─────────────────────────────────────┤
│                                     │
│  📱 Applications  🎮 Jeux  📚 Éducation │ ← Catégories
│                                     │
│  ⭐ Sélection     🆕 Nouveautés      │
├─────────────────────────────────────┤
│  [App vedette 1]  [App vedette 2]   │ ← Applications mises en avant
│                                     │
│  [App vedette 3]  [App vedette 4]   │
└─────────────────────────────────────┘
```

#### Fonctionnalités principales

**Recherche intelligente** :
- Tapez le nom ou le type d'application
- Suggestions automatiques
- Filtres par catégorie

**Installation simple** :
1. Cliquer sur l'application désirée
2. Lire la description et les captures d'écran
3. Cliquer "Installer"
4. Saisir le mot de passe administrateur

**Gestion des mises à jour** :
- Onglet "Mises à jour" : voir les apps à mettre à jour
- "Tout mettre à jour" : actualiser toutes les applications
- Notifications automatiques des nouvelles versions

### 🔧 KDE Discover

#### Interface KDE

**Accès** : Menu K → "Discover" ou "Centre de logiciels"

```
┌─────────────────────────────────────┐
│ Accueil  Applications  Mises à jour │ ← Onglets principaux
├─────────────────────────────────────┤
│  🔍 Recherche                       │
├─────────────────────────────────────┤
│  📊 Bureautique    🎨 Graphisme     │ ← Navigation par catégories
│  🌐 Internet       🎵 Multimédia    │
│  🎮 Jeux          🛠️ Outils         │
├─────────────────────────────────────┤
│  Applications recommandées          │
│  [LibreOffice] [GIMP] [VLC] [Git]   │
└─────────────────────────────────────┘
```

#### Spécificités KDE

**Sources multiples** :
- Paquets Debian/Ubuntu
- Flatpak Hub
- Snap Store (si activé)
- Add-ons Plasma

**Intégration système** :
- Thèmes et widgets Plasma
- Extensions et plasmoids
- Papiers peints et icônes

### 📦 Synaptic (Gestionnaire avancé)

#### Installation et utilisation

```bash
# Installation de Synaptic
sudo apt update
sudo apt install synaptic

# Lancement
sudo synaptic
```

#### Interface experte

```
┌─────────────────────────────────────┐
│ Fichier  Édition  Paquet  Paramètres│
├─────────────────────────────────────┤
│ [Sections] │ [Liste des paquets]     │
│ admin      │ ☑ apache2              │
│ devel      │ ☑ firefox-esr          │
│ games      │ ☐ gimp                 │
│ graphics   │ ☐ vlc                  │
│ net        │ ☑ wget                 │
├────────────┼─────────────────────────┤
│ [État]     │ [Description détaillée] │
│ Installé   │ Navigateur web sécurisé │
│ Disponible │ Version: 102.x.x        │
│ Cassé      │ Dépendances: libc6...   │
└────────────┴─────────────────────────┘
```

#### Avantages Synaptic

✅ **Contrôle total** : Voir tous les paquets disponibles
✅ **Dépendances visibles** : Comprendre les relations entre paquets
✅ **Filtres avancés** : Recherche par statut, section, origine
✅ **Historique** : Voir l'historique des installations
✅ **Verrouillage** : Empêcher la mise à jour de certains paquets

### 🔄 Gestionnaires de paquets alternatifs

#### Flatpak : Applications universelles

**Installation de Flatpak** :
```bash
# Installer Flatpak
sudo apt install flatpak

# Ajouter le dépôt Flathub
flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo

# Redémarrer pour intégration complète
# Les applications Flatpak apparaîtront dans la logithèque
```

**Utilisation via ligne de commande** :
```bash
# Rechercher une application
flatpak search firefox

# Installer une application
flatpak install flathub org.mozilla.firefox

# Lancer une application
flatpak run org.mozilla.firefox

# Voir les applications installées
flatpak list

# Mettre à jour
flatpak update
```

#### Snap : Paquets universels Ubuntu

**Installation de Snap** :
```bash
# Installer snapd
sudo apt install snapd

# Installer le cœur snap
sudo snap install core

# Rechercher des applications
snap find vlc

# Installer une application
sudo snap install vlc

# Voir les snaps installés
snap list
```

---

## 2.2.2 Installation de logiciels courants

### 📊 Applications bureautiques essentielles

#### Suite LibreOffice complète

```bash
# Installation complète LibreOffice en français
sudo apt update
sudo apt install libreoffice libreoffice-l10n-fr libreoffice-help-fr

# Modules spécialisés
sudo apt install \
  libreoffice-writer \      # Traitement de texte
  libreoffice-calc \        # Tableur
  libreoffice-impress \     # Présentations
  libreoffice-draw \        # Dessin vectoriel
  libreoffice-base \        # Base de données
  libreoffice-math          # Formules mathématiques

# Extensions utiles
sudo apt install libreoffice-pdfimport libreoffice-nlpsolver
```

**Test de l'installation** :
```bash
# Lancer Writer
libreoffice --writer &

# Lancer Calc
libreoffice --calc &

# Vérifier la langue
# Outils → Options → Paramètres linguistiques
```

#### Navigateurs web

```bash
# Firefox ESR (déjà installé généralement)
sudo apt install firefox-esr firefox-esr-l10n-fr

# Chromium (alternative à Chrome)
sudo apt install chromium

# Google Chrome (via .deb)
wget -q -O - https://dl.google.com/linux/linux_signing_key.pub | sudo apt-key add -
echo "deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main" | sudo tee /etc/apt/sources.list.d/google-chrome.list
sudo apt update
sudo apt install google-chrome-stable

# Brave (navigateur axé vie privée)
curl -fsSLo /usr/share/keyrings/brave-browser-archive-keyring.gpg https://brave-browser-apt-release.s3.brave.com/brave-browser-archive-keyring.gpg
echo "deb [signed-by=/usr/share/keyrings/brave-browser-archive-keyring.gpg arch=amd64] https://brave-browser-apt-release.s3.brave.com/ stable main" | sudo tee /etc/apt/sources.list.d/brave-browser-release.list
sudo apt update
sudo apt install brave-browser
```

#### Clients de messagerie

```bash
# Thunderbird (client email complet)
sudo apt install thunderbird thunderbird-l10n-fr

# Evolution (intégré GNOME, calendrier + email)
sudo apt install evolution

# Clients légers
sudo apt install claws-mail sylpheed
```

### 🎨 Applications créatives et multimédia

#### Édition d'images et graphisme

```bash
# GIMP (édition d'images avancée)
sudo apt install gimp gimp-data-extras gimp-help-fr

# Inkscape (dessin vectoriel)
sudo apt install inkscape

# Krita (peinture numérique)
sudo apt install krita

# Applications simples
sudo apt install \
  kolourpaint4 \    # Paint simple (KDE)
  pinta \           # Paint simple (alternative)
  shotwell          # Gestionnaire de photos
```

#### Lecture et édition multimédia

```bash
# VLC (lecteur universel)
sudo apt install vlc vlc-plugin-base

# Lecteurs de musique
sudo apt install \
  rhythmbox \       # Lecteur GNOME
  amarok \          # Lecteur KDE
  audacious         # Lecteur léger

# Édition audio/vidéo
sudo apt install \
  audacity \        # Édition audio
  openshot \        # Montage vidéo simple
  kdenlive \        # Montage vidéo avancé
  blender           # 3D et animation
```

### 💻 Outils de développement

#### Éditeurs et IDE

```bash
# Visual Studio Code
wget -qO- https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > packages.microsoft.gpg
sudo install -o root -g root -m 644 packages.microsoft.gpg /etc/apt/trusted.gpg.d/
echo "deb [arch=amd64,arm64,armhf signed-by=/etc/apt/trusted.gpg.d/packages.microsoft.gpg] https://packages.microsoft.com/repos/code stable main" | sudo tee /etc/apt/sources.list.d/vscode.list
sudo apt update
sudo apt install code

# Éditeurs intégrés
sudo apt install \
  gedit \           # Éditeur GNOME
  kate \            # Éditeur KDE
  vim \             # Éditeur en terminal
  nano \            # Éditeur simple
  mousepad          # Éditeur XFCE

# IDE spécialisés
sudo apt install \
  geany \           # IDE léger
  codeblocks \      # IDE C/C++
  netbeans          # IDE Java
```

#### Langages et outils

```bash
# Python et outils
sudo apt install \
  python3 \
  python3-pip \
  python3-venv \
  idle-python3.11

# JavaScript/Node.js
curl -fsSL https://deb.nodesource.com/setup_lts.x | sudo -E bash -
sudo apt install nodejs npm

# Java
sudo apt install default-jdk

# Git et contrôle de version
sudo apt install git gitk git-gui

# Outils de build
sudo apt install \
  build-essential \
  cmake \
  make \
  gcc \
  g++
```

### 🌐 Applications Internet et communication

#### Communications

```bash
# Clients de chat et visio
sudo apt install \
  telegram-desktop \
  signal-desktop \
  element-desktop \  # Matrix client
  pidgin            # Multi-protocole

# Via Flatpak pour plus de choix
flatpak install flathub \
  com.discordapp.Discord \
  us.zoom.Zoom \
  com.skype.Client

# Clients IRC
sudo apt install hexchat irssi
```

#### Outils réseau

```bash
# Téléchargement
sudo apt install \
  wget \
  curl \
  aria2 \
  transmission-gtk   # BitTorrent

# FTP et transferts
sudo apt install \
  filezilla \
  rsync \
  rclone
```

### 🛠️ Utilitaires système

#### Gestionnaires de fichiers avancés

```bash
# Gestionnaires avec fonctionnalités avancées
sudo apt install \
  mc \              # Midnight Commander (terminal)
  ranger \          # Gestionnaire terminal moderne
  thunar \          # XFCE file manager
  pcmanfm           # LXDE file manager

# Extensions Nautilus (GNOME)
sudo apt install \
  nautilus-admin \     # Actions admin
  nautilus-image-converter \
  nautilus-share
```

#### Outils d'archive et compression

```bash
# Gestionnaires d'archives graphiques
sudo apt install \
  file-roller \     # GNOME
  ark \             # KDE
  xarchiver         # XFCE

# Outils en ligne de commande
sudo apt install \
  zip unzip \
  rar unrar \
  p7zip-full \
  gzip gunzip
```

---

## 2.2.3 Gestion des formats de fichiers

### 🔗 Comprendre les associations de fichiers

#### Qu'est-ce qu'une association de fichier ?

Une **association de fichier** détermine quelle application s'ouvre quand vous double-cliquez sur un fichier.

**Exemple** :
- Fichier `.pdf` → Ouvrir avec Evince (lecteur PDF)
- Fichier `.jpg` → Ouvrir avec Eye of GNOME (visionneuse)
- Fichier `.mp3` → Ouvrir avec Rhythmbox (lecteur audio)

#### Types MIME

Les **types MIME** sont des identifiants standards qui décrivent le contenu d'un fichier :

```bash
# Voir le type MIME d'un fichier
file --mime-type document.pdf
# Résultat : application/pdf

file --mime-type photo.jpg
# Résultat : image/jpeg

file --mime-type musique.mp3
# Résultat : audio/mpeg
```

### ⚙️ Configuration des associations

#### Via l'interface graphique GNOME

**Méthode 1 : Clic droit sur fichier**
1. Clic droit sur un fichier du type souhaité
2. "Ouvrir avec une autre application"
3. Choisir l'application dans la liste
4. Cocher "Toujours utiliser pour ce type de fichier"

**Méthode 2 : Paramètres système**
1. Paramètres → Applications par défaut
2. Modifier les associations par catégorie :
   - Web : Navigateur par défaut
   - Mail : Client email par défaut
   - Calendrier : Application calendrier
   - Musique : Lecteur audio
   - Vidéo : Lecteur vidéo
   - Photos : Visionneuse d'images

#### Via l'interface KDE

**Paramètres système KDE** :
1. Paramètres système → Applications → Associations de fichiers
2. Naviguer par type MIME ou extension
3. Ajouter/supprimer/réorganiser les applications
4. Définir l'application par défaut

#### Configuration avancée en ligne de commande

```bash
# Voir l'application par défaut pour un type
xdg-mime query default application/pdf

# Définir une nouvelle application par défaut
xdg-mime default evince.desktop application/pdf

# Ouvrir un fichier avec l'application par défaut
xdg-open document.pdf

# Voir toutes les associations
grep -r "MimeType" /usr/share/applications/ | head -10
```

### 📄 Configuration par types de fichiers

#### Documents bureautiques

```bash
# Associations courantes recommandées
xdg-mime default libreoffice-writer.desktop application/msword
xdg-mime default libreoffice-writer.desktop application/vnd.openxmlformats-officedocument.wordprocessingml.document
xdg-mime default libreoffice-calc.desktop application/vnd.ms-excel
xdg-mime default libreoffice-calc.desktop application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
xdg-mime default libreoffice-impress.desktop application/vnd.ms-powerpoint
xdg-mime default evince.desktop application/pdf
```

#### Images et graphiques

```bash
# Configuration pour formats d'images
xdg-mime default eog.desktop image/jpeg
xdg-mime default eog.desktop image/png
xdg-mime default eog.desktop image/gif
xdg-mime default gimp.desktop image/xcf  # Fichiers GIMP natifs
xdg-mime default inkscape.desktop image/svg+xml
```

#### Audio et vidéo

```bash
# Lecteurs multimédia
xdg-mime default vlc.desktop video/mp4
xdg-mime default vlc.desktop video/avi
xdg-mime default vlc.desktop video/mkv
xdg-mime default rhythmbox.desktop audio/mpeg
xdg-mime default rhythmbox.desktop audio/ogg
xdg-mime default rhythmbox.desktop audio/flac
```

### 🔧 Créer des associations personnalisées

#### Créer un fichier .desktop personnalisé

```bash
# Créer une application personnalisée
cat << 'EOF' > ~/.local/share/applications/mon-editeur-texte.desktop
[Desktop Entry]
Version=1.0
Type=Application
Name=Mon Éditeur de Texte
Comment=Éditeur personnalisé pour fichiers texte
Exec=gedit %f
Icon=text-editor
Terminal=false
MimeType=text/plain;text/x-python;application/x-shellscript;
Categories=TextEditor;Development;
EOF

# Mettre à jour la base de données
update-desktop-database ~/.local/share/applications/

# Utiliser cette nouvelle association
xdg-mime default mon-editeur-texte.desktop text/plain
```

---

## 2.2.4 Configuration du multimédia

### 🎵 Support audio complet

#### Installation des codecs audio

```bash
# Codecs audio essentiels
sudo apt install \
  pulseaudio \
  pavucontrol \
  alsa-utils \
  gstreamer1.0-plugins-base \
  gstreamer1.0-plugins-good \
  gstreamer1.0-plugins-bad \
  gstreamer1.0-plugins-ugly

# Support formats propriétaires
sudo apt install \
  gstreamer1.0-libav \
  ffmpeg \
  lame \
  faac \
  faad

# Codecs MP3 et autres
sudo apt install ubuntu-restricted-extras
```

#### Configuration PulseAudio

```bash
# Vérifier que PulseAudio fonctionne
pulseaudio --check -v

# Contrôleur de volume graphique
pavucontrol &

# Tests audio en ligne de commande
# Test son de base
speaker-test -t wav -c 2

# Jouer un fichier audio test
paplay /usr/share/sounds/alsa/Front_Left.wav
```

#### Résolution des problèmes audio

```bash
# Redémarrer PulseAudio
pulseaudio -k
pulseaudio --start

# Vérifier les périphériques détectés
aplay -l  # Périphériques de lecture
arecord -l  # Périphériques d'enregistrement

# Réinitialiser ALSA si nécessaire
sudo alsa force-reload
```

### 🎬 Support vidéo complet

#### Codecs vidéo essentiels

```bash
# Lecteurs vidéo avec codecs
sudo apt install \
  vlc \
  mpv \
  mplayer \
  totem  # Lecteur GNOME par défaut

# Codecs GStreamer pour applications GNOME
sudo apt install \
  gstreamer1.0-vaapi \
  gstreamer1.0-plugins-ugly \
  gstreamer1.0-libav

# Support DVD (attention aux restrictions légales)
sudo apt install libdvd-pkg
sudo dpkg-reconfigure libdvd-pkg
```

#### Accélération matérielle vidéo

```bash
# Pour cartes graphiques Intel
sudo apt install intel-media-va-driver vainfo

# Pour cartes NVIDIA (avec pilotes propriétaires)
sudo apt install vdpau-va-driver

# Vérifier l'accélération matérielle
vainfo  # VA-API
vdpauinfo  # VDPAU

# Test avec VLC
# VLC → Outils → Préférences → Vidéo
# Activer "Accélération matérielle"
```

### 🖼️ Support formats d'images

#### Lecteurs d'images avancés

```bash
# Visionneuses d'images
sudo apt install \
  eog \           # Eye of GNOME
  gwenview \      # KDE
  ristretto \     # XFCE
  feh \           # Léger, ligne de commande
  imagemagick     # Outils de conversion

# Support formats additionnels
sudo apt install \
  gimp \
  darktable \     # Traitement photos RAW
  rawtherapee     # Alternative RAW
```

#### Conversion et traitement par lots

```bash
# ImageMagick pour conversions
# Redimensionner une image
convert input.jpg -resize 800x600 output.jpg

# Convertir format
convert image.png image.jpg

# Traitement par lots
for img in *.jpg; do
    convert "$img" -resize 50% "small_$img"
done

# Optimiser pour le web
jpegoptim --size=100k *.jpg
optipng *.png
```

### 📱 Gestion des appareils externes

#### Appareils photo et smartphones

```bash
# Support appareils photo
sudo apt install \
  gphoto2 \
  libgphoto2-port12 \
  shotwell \       # Import et gestion photos
  rapid-photo-downloader

# Support smartphones Android
sudo apt install \
  mtp-tools \
  libmtp-runtime \
  android-file-transfer

# Test connexion appareil photo
gphoto2 --list-cameras
gphoto2 --auto-detect
```

#### Montage automatique périphériques

```bash
# Gestionnaires de montage automatique
sudo apt install \
  udisks2 \
  udiskie \
  pcmanfm        # Inclut montage auto

# Configuration udiskie (montage auto graphique)
# Démarrer avec la session
mkdir -p ~/.config/autostart
cat << 'EOF' > ~/.config/autostart/udiskie.desktop
[Desktop Entry]
Type=Application
Name=udiskie
Exec=udiskie --tray --notify
Hidden=false
NoDisplay=false
X-GNOME-Autostart-enabled=true
EOF
```

### 🎙️ Configuration enregistrement audio

#### Outils d'enregistrement

```bash
# Enregistrement audio simple
sudo apt install \
  audacity \      # Éditeur audio complet
  gnome-sound-recorder \  # Simple
  arecord         # Ligne de commande

# Test microphone
arecord -f cd -t wav -d 10 test.wav
aplay test.wav

# Enregistrement écran avec audio
sudo apt install \
  obs-studio \    # Complet pour streaming
  simplescreenrecorder \
  recordmydesktop
```

---


## ✅ Checklist finale de validation

### 🔧 Installation et configuration

- [ ] **Profil utilisateur défini** : Questionnaire rempli et profil choisi
- [ ] **Applications essentielles** : Toutes installées selon profil
- [ ] **Gestionnaires de paquets** : APT, Flatpak configurés et fonctionnels
- [ ] **Logithèques graphiques** : Testées et utilisables
- [ ] **Applications alternatives** : Au moins 2 options par catégorie

### 📄 Associations de fichiers

- [ ] **Types de documents** : PDF, Office, texte configurés
- [ ] **Formats d'images** : JPEG, PNG, SVG associés correctement
- [ ] **Fichiers multimédia** : Audio et vidéo avec bonnes applications
- [ ] **Archives** : ZIP, TAR, RAR gérés automatiquement
- [ ] **Scripts et code** : Fichiers de développement associés

### 🎵 Support multimédia

- [ ] **Audio fonctionnel** : PulseAudio actif, son de test OK
- [ ] **Microphone testé** : Enregistrement et lecture fonctionnels
- [ ] **Codecs audio** : MP3, OGG, FLAC supportés
- [ ] **Codecs vidéo** : H.264, MP4, AVI lisibles
- [ ] **Périphériques** : Appareils photo et smartphones détectés
- [ ] **Montage automatique** : Clés USB et disques externes

### 🛠️ Optimisation et maintenance

- [ ] **Nettoyage effectué** : Paquets inutiles supprimés
- [ ] **Raccourcis configurés** : Principaux raccourcis définis
- [ ] **Scripts de maintenance** : Sauvegarde et maintenance créés
- [ ] **Documentation générée** : Guide personnel créé
- [ ] **Tests d'intégration** : Tous les tests passés avec succès

---

## 🚨 Troubleshooting applications

### Problème : Application ne se lance pas

**Diagnostic** :
```bash
# Lancer depuis terminal pour voir erreurs
nom-application

# Vérifier si installée correctement
which nom-application
dpkg -l | grep nom-application

# Vérifier les dépendances
apt show nom-application
```

**Solutions** :
```bash
# Réinstaller l'application
sudo apt install --reinstall nom-application

# Vérifier les bibliothèques manquantes
ldd $(which nom-application) | grep "not found"

# Reconfigurer si nécessaire
sudo dpkg-reconfigure nom-application
```

### Problème : Associations de fichiers ne fonctionnent pas

**Diagnostic** :
```bash
# Vérifier association actuelle
xdg-mime query default application/pdf

# Voir les applications disponibles
grep -l "application/pdf" /usr/share/applications/*.desktop

# Tester ouverture manuelle
xdg-open test.pdf
```

**Solutions** :
```bash
# Reconfigurer association
xdg-mime default evince.desktop application/pdf

# Vider le cache
rm ~/.cache/mimeinfo.cache
update-desktop-database ~/.local/share/applications/

# Vérifier variables d'environnement
echo $XDG_DATA_DIRS
```

### Problème : Codecs multimédia manquants

**Diagnostic** :
```bash
# Tester codecs GStreamer
gst-inspect-1.0 mad    # MP3
gst-inspect-1.0 x264enc # H.264

# Vérifier plugins installés
gst-inspect-1.0 | grep -E "(mp3|h264|aac)"
```

**Solutions** :
```bash
# Réinstaller codecs
sudo apt install --reinstall \
  gstreamer1.0-plugins-ugly \
  gstreamer1.0-libav \
  ubuntu-restricted-extras

# Pour VLC spécifiquement
sudo apt install --reinstall vlc
```

### Problème : Flatpak ne fonctionne pas

**Diagnostic** :
```bash
# Vérifier installation Flatpak
flatpak --version

# Voir les remotes configurés
flatpak remotes

# Tester connexion Flathub
flatpak remote-ls flathub | head -5
```

**Solutions** :
```bash
# Réinstaller Flatpak
sudo apt remove --purge flatpak
sudo apt install flatpak

# Reconfigurer Flathub
flatpak remote-delete flathub
flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo

# Réparer les permissions
flatpak repair --user
```

---

## 📊 Rapport de performance final

### Génération du rapport complet

```bash
cat << 'EOF' > ~/rapport-performance-final.sh
#!/bin/bash
RAPPORT="rapport-performance-environnement-$(date +%Y%m%d).txt"

echo "=== RAPPORT PERFORMANCE ENVIRONNEMENT COMPLET ===" > $RAPPORT
echo "Date: $(date)" >> $RAPPORT
echo "Utilisateur: $(whoami)" >> $RAPPORT
echo "" >> $RAPPORT

# Utilisation ressources
echo "=== UTILISATION RESSOURCES ===" >> $RAPPORT
echo "Mémoire:" >> $RAPPORT
free -h >> $RAPPORT
echo "" >> $RAPPORT
echo "Espace disque:" >> $RAPPORT
df -h / >> $RAPPORT
echo "" >> $RAPPORT

# Applications démarrées
echo "=== APPLICATIONS ACTIVES ===" >> $RAPPORT
ps aux --sort=-%mem | head -10 >> $RAPPORT
echo "" >> $RAPPORT

# Services actifs
echo "=== SERVICES UTILISATEUR ===" >> $RAPPORT
systemctl --user list-units --type=service --state=active >> $RAPPORT
echo "" >> $RAPPORT

# Temps de démarrage
echo "=== PERFORMANCE DÉMARRAGE ===" >> $RAPPORT
systemd-analyze blame | head -10 >> $RAPPORT
echo "" >> $RAPPORT

# Applications installées (compte)
echo "=== STATISTIQUES INSTALLATION ===" >> $RAPPORT
echo "Paquets APT installés: $(dpkg -l | grep '^ii' | wc -l)" >> $RAPPORT
if command -v flatpak &>/dev/null; then
    echo "Applications Flatpak: $(flatpak list --app | wc -l)" >> $RAPPORT
fi
echo "Applications dans menu: $(find /usr/share/applications ~/.local/share/applications -name '*.desktop' 2>/dev/null | wc -l)" >> $RAPPORT
echo "" >> $RAPPORT

# Score de fonctionnalité
echo "=== SCORE FONCTIONNALITÉ ===" >> $RAPPORT
SCORE=0

# Test fonctionnalités (points sur 100)
command -v firefox &>/dev/null && SCORE=$((SCORE + 10))
command -v libreoffice &>/dev/null && SCORE=$((SCORE + 10))
command -v vlc &>/dev/null && SCORE=$((SCORE + 10))
command -v gimp &>/dev/null && SCORE=$((SCORE + 10))
command -v git &>/dev/null && SCORE=$((SCORE + 10))
pulseaudio --check 2>/dev/null && SCORE=$((SCORE + 10))
gst-inspect-1.0 mad &>/dev/null && SCORE=$((SCORE + 10))
[ -f ~/.config/mimeapps.list ] && SCORE=$((SCORE + 10))
command -v flatpak &>/dev/null && SCORE=$((SCORE + 10))
[ -f ~/backup-config-utilisateur.sh ] && SCORE=$((SCORE + 10))

echo "Score fonctionnalité: $SCORE/100" >> $RAPPORT
echo "" >> $RAPPORT

# Recommandations
echo "=== RECOMMANDATIONS ===" >> $RAPPORT
if [ $SCORE -lt 70 ]; then
    echo "- Compléter l'installation des applications manquantes" >> $RAPPORT
fi

DISK_USAGE=$(df / | tail -1 | awk '{print $5}' | sed 's/%//')
if [ $DISK_USAGE -gt 80 ]; then
    echo "- Nettoyer l'espace disque (>80% utilisé)" >> $RAPPORT
fi

MEM_AVAILABLE=$(free | grep Mem | awk '{print $7}')
MEM_TOTAL=$(free | grep Mem | awk '{print $2}')
MEM_PERCENT=$((MEM_AVAILABLE * 100 / MEM_TOTAL))
if [ $MEM_PERCENT -lt 20 ]; then
    echo "- Optimiser l'utilisation mémoire (<20% disponible)" >> $RAPPORT
fi

echo "Rapport généré: $RAPPORT"
cat $RAPPORT
EOF

chmod +x ~/rapport-performance-final.sh
./rapport-performance-final.sh
```

---

## 🎉 Félicitations !

### Ce que vous avez accompli

🎯 **Environnement complet** : Applications installées selon profil utilisateur spécifique
📦 **Maîtrise des gestionnaires** : APT, Flatpak, logithèques graphiques
🔗 **Associations optimisées** : Tous formats de fichiers correctement configurés
🎵 **Multimédia fonctionnel** : Audio, vidéo, codecs et périphériques opérationnels
🛠️ **Maintenance automatisée** : Scripts de sauvegarde et maintenance créés
📚 **Documentation complète** : Guide personnel de votre environnement

### Compétences développées

✅ **Gestion logicielle avancée** : Installation via sources multiples
✅ **Configuration système** : Associations, types MIME, intégrations
✅ **Troubleshooting** : Diagnostic et résolution problèmes applicatifs
✅ **Optimisation** : Performance et maintenance préventive
✅ **Documentation technique** : Création guides personnalisés
✅ **Automatisation** : Scripts de maintenance et sauvegarde

### Environnement créé

Votre système Debian dispose maintenant de :
- **Suite applicative** adaptée à votre profil d'usage
- **Intégration parfaite** entre toutes les applications
- **Support multimédia complet** pour tous vos besoins
- **Workflows optimisés** avec raccourcis et associations
- **Maintenance automatisée** pour pérennité
- **Documentation** pour évolution et partage

### Prochaines étapes

Votre environnement logiciel est maintenant complet et personnalisé. La section suivante vous permettra d'optimiser et configurer le matériel pour tirer le meilleur parti de votre installation.

**🎯 Prêt pour la section 2.3 : Matériel et pilotes !**

---

*💡 **Conseil final** : L'environnement que vous venez de créer est le reflet de vos besoins actuels. Gardez vos scripts de maintenance et documentation à jour. N'hésitez pas à faire évoluer votre configuration au fur et à mesure que vos besoins changent ou que de nouvelles applications intéressantes apparaissent.*


⏭️
